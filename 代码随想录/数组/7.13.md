[844. æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²](https://leetcode.cn/problems/backspace-string-compare/)

## 1. æ¨¡æ‹Ÿæ ˆï¼Œé‡æ„å­—ç¬¦ä¸²

å¯¹äºç»™å®šçš„å­—ç¬¦ä¸²så’Œtï¼Œå„è‡ªåˆ›å»ºä¸€ä¸ªæ ˆï¼Œå½“é‡åˆ°éâ€˜#â€™å­—ç¬¦ï¼Œå°±æŠŠå­—ç¬¦è¿›æ ˆï¼Œé‡åˆ°â€˜#â€™å­—ç¬¦å°±åœ¨æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªå­—ç¬¦ã€‚

æœ€åéå†ä¸¤ä¸ªæ ˆä¸­çš„å…ƒç´ ï¼Œåˆ¤æ–­å­—ç¬¦æ˜¯å¦ç›¸ç­‰

```c#
using System.Collections;
public class Solution {
    public bool BackspaceCompare(string s, string t) {
        // å£°æ˜ä¸¤ä¸ªæ ˆ
        Stack<char> stack1 = GetStack(s);
        Stack<char> stack2 = GetStack(t);
        if (stack1.Count != stack2.Count) return false; // å¦‚æœä¸¤ä¸ªæ ˆä¸­å…ƒç´ ä¸ªæ•°ä¸ç­‰ï¼Œç›´æ¥é€€å‡º
        while (stack1.Count > 0 && stack2.Count > 0) {	// é¡ºåºéå†æ ˆä¸­çš„æ¯ä¸ªå…ƒç´ 
            char ch = (char)stack1.Pop();
            char ch2 = (char)stack2.Pop();
            if (ch != ch2) {
                return false;
            }
        }
        return true;
    }
    public Stack<char> GetStack(string l) {		// å¤„ç†å­—ç¬¦ä¸²ä¸­çš„â€˜#â€™å…ƒç´ å’Œéâ€˜#â€™å…ƒç´ 
        Stack<char> stack = new Stack<char>();	// åˆå§‹åŒ–ä¸€ä¸ªæ ˆ
        if (l.Length == 0 || l == "") return stack;		// é•¿åº¦ä¸º0ç›´æ¥è¿”å›
        char[] chs = l.ToCharArray();	// å­—ç¬¦ä¸²è½¬charç±»å‹æ•°ç»„
        for (int i = 0; i < chs.Length; i ++) {		// æ‰«æä¸€éå¤„ç†
            if (chs[i] != '#') {
                stack.Push(chs[i]);
            } else {
                if (stack.Count != 0) stack.Pop();		// C#ä¸­ï¼Œå¦‚æœæ ˆå†…å…ƒç´ ä¸ºç©ºï¼ŒPop()ä¼šæŠ¥å¼‚å¸¸
            }
        }
        return stack;
    }
}
```

## 2. åŒæŒ‡é’ˆ

æ€è·¯ï¼šåˆ†æè¿™ä¸ªå­—ç¬¦æ˜¯å¦è¢«ç§»é™¤è·Ÿå®ƒåé¢çš„â€˜#â€™æœ‰å…³ç³»ï¼Œè·Ÿå½“å‰å­—ç¬¦å‰é¢çš„â€™#â€˜æ²¡æœ‰å…³ç³»ï¼Œç”¨ä¸€ä¸ªæŒ‡é’ˆä»åæ‰«æï¼Œåˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦è¢«ç¼–è¾‘è¿›æ–‡æœ¬ä¸­ï¼ŒåŒæ—¶å®šä¹‰ä¸€ä¸ªå˜é‡cntï¼Œç»Ÿè®¡å½“å‰å­—ç¬¦åé¢çš„â€™#â€˜ä¸ªæ•°ï¼Œå¦‚æœâ€™#â€˜ä¸ªæ•°å¤§äº1ï¼Œå½“å‰å­—ç¬¦è‚¯å®šæ˜¯è¢«å»æ‰çš„ï¼Œå¹¶ä¸”è®©cnt - 1,å¦‚æœcntä¸º0ï¼Œå°±å¯ä»¥ç›´æ¥æ¯”è¾ƒäº†ã€‚å¦‚æœå½“å‰å­—ç¬¦ä¸æ˜¯â€™#â€˜ã€‚

![image-20240714162319373](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20240714162319373.png)

**ğŸ˜¨éš¾ç‚¹**ï¼šå¦‚æœæ˜¯ç”¨åŒæŒ‡é’ˆå›é€€çš„è¯ã€‚å°±éœ€è¦è®°å½•#å‡ºç°çš„æ¬¡æ•°ã€‚è¦æƒ³åˆ°å¦‚ä½•å¤„ç†ã€‚

```c#
public bool BackspaceCompare(string s, string t) {
        char[] S = s.ToCharArray();	// å­—ç¬¦ä¸²è½¬æ•°ç»„
        char[] T = t.ToCharArray();	// å­—ç¬¦ä¸²è½¬æ•°ç»„
        int i = s.Length - 1, j = t.Length - 1;	// å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆi,	jï¼Œæ–¹ä¾¿æˆ‘ä»¬ä»åå¾€å‰æ‰«æ
        int s_cnt = 0, t_cnt = 0;		// ç»Ÿè®¡å½“å‰å­—ç¬¦åé¢â€˜#â€™çš„ä¸ªæ•°
        while (i >= 0 || j >= 0) {		// æ‰«æçš„æ¡ä»¶ i >= 0 || j >= 0
            while (i >= 0) {		// tå­—ç¬¦ä¸²ï¼Œä»åå¾€å‰æ‰«æ
                if (S[i] == '#') {	// å½“å‰å­—ç¬¦æ˜¯â€˜#â€™
                    s_cnt ++;		// â€˜#â€™å­—ç¬¦ç»Ÿè®¡+1
                    i --;		    // iæŒ‡é’ˆå¾€åç§»åŠ¨ä¸€ä½
                } else if (s_cnt > 0) {		// é‡åˆ°çš„æ˜¯éâ€˜#â€™å­—ç¬¦ï¼Œå¦‚æœs_cntå¤§äº0ï¼Œè¡¨ç¤ºéœ€è¦å¾€å‰è·³ï¼Œä¸è¦å½“å‰å­—ç¬¦ã€‚
                    i --;				   // i -- å¾€å‰ç§»åŠ¨ä¸€ä½
                    s_cnt --;			   // '#'ä¸ªæ•°å‡ä¸€
                } else {
                    break;				// å¦‚æœå½“å‰å­—ç¬¦ä¸æ˜¯'#'ï¼Œå¹¶ä¸”åé¢ç»Ÿè®¡â€™#â€˜çš„s_cntä¸º0ï¼Œå°±é€€å‡ºå¾ªç¯
                }
            }
            while (j >= 0) {
                if (T[j] == '#') {
                    t_cnt ++;
                    j --;
                } else if (t_cnt > 0) {
                    j --;
                    t_cnt --;
                } else {
                    break;
                }
            }
            // iæŒ‡é’ˆå’ŒjæŒ‡é’ˆéƒ½æ‰«æå®Œå­—ç¬¦ä¸²äº†ï¼Œå¦‚æœè¿™ä¸¤ä¸ªä¸åˆæ³•(<0)ï¼Œå°±éœ€è¦åˆ¤æ–­
            // (i < 0, j < 0) (i < 0, j >= 0), (j < 0, i >= 0)
            if (i < 0 || j < 0) {
                // å¦‚æœiå’ŒjåŒæ—¶å°äº0ï¼Œè¯´æ˜æ–‡æœ¬éƒ½ä¸ºç©ºå‘—ï¼Œä¸¤ä¸ªç©ºæ–‡æœ¬æˆ‘ä»¬è®¤ä¸ºæ˜¯ä¸€æ ·çš„
                if (i < 0 && j < 0) {
                    return true;
                }else {		// æœ‰ä¸€ä¸ªæ˜¯å°äº0ï¼Œå¦ä¸€ä¸ªä¸å°äº0ã€‚è¯´æ˜ä¸€ä¸ªå­—ç¬¦ä¸²ç»è¿‡è¿›é€€ä¸ºç©ºã€‚å¦ä¸€ä¸ªè¿˜æŒ‡å‘æŸä¸€ä¸ªå­—ç¬¦
                    return false;
                }
            }
            
            // iå’ŒjèŒƒå›´éƒ½å¤§äºç­‰äº0ï¼Œå¤–å±‚æ¡ä»¶å¯ä»¥å»æ‰çš„ï¼Œå¦‚æœ
            if (i >= 0 && j >= 0) {
                if (S[i] == T[j]) {		// ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ç›¸åŒï¼Œæ¥ç€å¾€å‰é¢ç§»åŠ¨ä¸€ä½
                    i --;
                    j --;
                } else {			   // ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å­—ç¬¦ä¸åŒ¹é…ï¼Œç›´æ¥é€€å‡º
                    return false;
                }
            }
        }
        return true;	// ä»åå¾€å‰æ‰«æ
    }
```





